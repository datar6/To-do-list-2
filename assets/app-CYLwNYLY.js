import{r as o,j as s}from"./index-CbGa9_tW.js";import{u as x}from"./index.esm-C1P9JmcE.js";const N=function(){const[a,t]=o.useState(()=>{const e=localStorage.getItem("tasks");return e?JSON.parse(e):[]}),{register:n,handleSubmit:c,reset:i,formState:{errors:r}}=x();o.useEffect(()=>{localStorage.setItem("tasks",JSON.stringify(a))},[a]);const d=e=>{e.todo.trim()&&(t([...a,e.todo]),i())},m=e=>{t(a.filter((l,h)=>h!==e))},u=()=>{window.confirm("Are you sure you want to clear all tasks?")&&t([])};return s.jsx("div",{className:"to-do-box",children:s.jsxs("div",{className:"to-do-container",children:[s.jsx("div",{className:"box-1",children:s.jsxs("p",{className:"task-counter",children:["Total tasks: ",a.length]})}),s.jsxs("div",{className:"box-2",children:[s.jsxs("div",{className:"tasks-header",children:[s.jsx("h2",{children:"Your Tasks"}),a.length>0&&s.jsx("button",{onClick:u,className:"clear-all-btn","aria-label":"Clear all tasks",children:"Clear All"})]}),a.length===0?s.jsx("p",{className:"empty-state",children:"No tasks yet. Add your first task!"}):s.jsx("ul",{className:"tasks-list",children:a.map((e,l)=>s.jsxs("li",{className:"task-item",children:[s.jsx("span",{className:"task-text",children:e}),s.jsx("button",{onClick:()=>m(l),className:"delete-btn","aria-label":`Delete task: ${e}`,children:"Ã—"})]},l))})]}),s.jsxs("div",{className:"box-3",children:[s.jsx("h2",{children:"Add New Task"}),s.jsxs("form",{onSubmit:c(d),className:"task-form",children:[s.jsx("input",{...n("todo",{required:"Task cannot be empty",minLength:{value:3,message:"Minimum 3 characters required"}}),type:"text",placeholder:"Enter your task...",className:"task-input","aria-invalid":r.todo?"true":"false"}),r.todo&&s.jsx("p",{className:"error-message",children:r.todo.message}),s.jsx("button",{type:"submit",className:"add-btn",children:"Add Task"})]})]})]})})};export{N as component};
